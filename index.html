<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>VisionBank | CEG Contact Center Realtime Dashboard</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

<!-- =============================== -->
<!-- HEADER -->
<!-- =============================== -->
<header class="header">
    <div class="header-left">
        <img src="assets/VisionBank-Logo.png" alt="VisionBank" class="logo" />
    </div>
    <div class="header-center">
        <h1>CEG Contact Center Realtime Dashboard</h1>
        <span class="header-subtitle">VisionBank</span>
    </div>
</header>

<!-- =============================== -->
<!-- FLOATING ALERT BUTTONS -->
<!-- =============================== -->

<div class="alert-panels-wrapper">
    <!-- FIXED ALERT SETTINGS PANEL -->
    <div id="alertSettingsPanel" class="alert-settings-panel hidden">
        <h3>Alert Settings</h3>

        <div class="alert-row">
            <label><input type="checkbox" id="enableQueueAlerts" checked> Enable queue alerts</label>
        </div>

        <div class="alert-row">
            <label><input type="checkbox" id="enableVoiceAlerts" checked> Voice alert</label>
        </div>

        <div class="alert-row">
            <label><input type="checkbox" id="enablePopupAlerts" checked> Show popup notifications</label>
        </div>

        <div class="alert-row">
            <label>Alert Tone</label>
            <select id="alertToneSelect">
                <option value="soft">Soft chime</option>
                <option value="bright">Bright bell</option>
                <option value="pulse">Pulse beep</option>
                <option value="ping">Ping tone</option>
                <option value="alarm">Alarm tone</option>
            </select>
        </div>

        <div class="alert-row">
            <label>Volume</label>
            <input type="range" id="alertVolume" min="0" max="100">
        </div>

        <div class="alert-row">
            <label>Cooldown (seconds)</label>
            <input type="number" id="alertCooldown" min="10" max="300" step="5">
        </div>

        <div class="alert-row">
            <label><input type="checkbox" id="wallboardMode"> Wallboard mode</label>
        </div>

        <h3 style="margin-top:12px;">Queue Tone Overrides</h3>
        <div id="queueToneOverrides" class="queue-tone-overrides">
            <div class="queue-override-empty">No queues loaded yet.</div>
        </div>

        <button id="alertTestButton" class="alert-test-btn">â–¶ Test Alert</button>
    </div>

    <!-- FIXED ALERT HISTORY PANEL -->
    <div id="alertHistoryPanel" class="alert-history-panel hidden">
        <h3>Alert History</h3>

        <div id="alertHistoryList" class="alert-history-list">
            <div class="history-empty">No alerts yet.</div>
        </div>

        <button id="clearAlertHistory" class="clear-history-btn">Clear History</button>
    </div>
</div>

<button id="alertSettingsToggle" class="alert-settings-btn">ðŸ”” Alert Settings</button>
<button id="alertHistoryToggle" class="alert-history-btn">ðŸ“œ Alert History</button>

<!-- ===================================================== -->
<!-- BEGIN ORIGINAL DUPLICATED PANELS FROM YOUR HTML      -->
<!-- These were causing the system to break because       -->
<!-- they duplicated IDs. They must remain removed.       -->
<!-- ===================================================== -->

<!-- (REMOVED intentionally â€” duplicates were breaking dashboard.js)
<div id="alertSettingsPanel" class="alert-settings-panel hidden">...</div>
<div id="alertHistoryPanel" class="alert-history-panel hidden">...</div>
-->

<!-- ===================================================== -->

<!-- =============================== -->
<!-- MAIN CONTENT -->
<!-- =============================== -->
<main class="main">

    <!-- CURRENT QUEUE STATUS -->
    <section class="panel" id="queue-panel">
        <h2>Current Queue Status</h2>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Queue</th>
                    <th>Calls</th>
                    <th>Agents</th>
                    <th>Max Wait</th>
                    <th>Avg Wait</th>
                </tr>
            </thead>
            <tbody id="queue-body">
                <tr><td colspan="5" class="loading">Loading queue status...</td></tr>
            </tbody>
        </table>
    </section>

    <!-- AGENT PERFORMANCE -->
    <section class="panel" id="agent-panel">
        <h2>Agent Performance</h2>
        <table class="data-table">
            <thead>
                <tr>
                    <th>CEG Member</th>
                    <th>Team</th>
                    <th>Agent Number</th>
                    <th>Availability</th>
                    <th>Duration</th>
                    <th>Inbound</th>
                    <th>Missed</th>
                    <th>Transferred</th>
                    <th>Outbound</th>
                    <th>Avg Handle</th>
                    <th>Start Date</th>
                </tr>
            </thead>
            <tbody id="agent-body">
                <tr><td colspan="11" class="loading">Loading agent data...</td></tr>
            </tbody>
        </table>
    </section>

    <!-- REALTIME GLOBAL STATISTICS -->
    <section class="panel">
        <h2>Realtime Global Statistics</h2>

        <div id="global-error" class="error"></div>

        <div class="stat-grid">
            <div class="stat-card"><div class="stat-value" id="gs-total-queued">--</div><div class="stat-label">Total Calls Queued</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-total-transferred">--</div><div class="stat-label">Total Calls Transferred</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-total-abandoned">--</div><div class="stat-label">Total Calls Abandoned</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-max-wait">--</div><div class="stat-label">Maximum Queue Wait Time</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-service-level">--%</div><div class="stat-label">Service Level</div></div>
        </div>

        <div class="stat-grid" style="margin-top:15px;">
            <div class="stat-card"><div class="stat-value" id="gs-total-received">--</div><div class="stat-label">Total Calls Received</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-answer-rate">--%</div><div class="stat-label">Answer Rate</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-abandon-rate">--%</div><div class="stat-label">Abandon Rate</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-callbacks-registered">--</div><div class="stat-label">Callbacks Registered</div></div>
            <div class="stat-card"><div class="stat-value" id="gs-callbacks-waiting">--</div><div class="stat-label">Callbacks Waiting</div></div>
        </div>
    </section>

</main>

<!-- =============================== -->
<!-- FOOTER -->
<!-- =============================== -->
<footer class="footer">
    <div class="footer-left">
        <button id="darkModeToggle" type="button" class="dark-toggle">ðŸŒ™ Dark Mode</button>
    </div>
    <div class="footer-right">
        <img src="assets/US-Signal-Logo.png" alt="US Signal" class="footer-logo" />
        <span>Created and maintained by <strong>Ahmed Adeyemi, US Signal</strong></span>
    </div>
</footer>

<!-- Popup notification container -->
<div id="queueAlertPopup" class="queue-alert-popup"></div>

<script src="dashboard.js"></script>
</body>
</html>
