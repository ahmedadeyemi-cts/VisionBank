<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VisionBank Security Administration</title>
    <link rel="stylesheet" href="security.css">
</head>

<body class="security-body">
    
    <!-- HEADER -->
    <header class="sec-header glass">
        <img src="assets/VisionBank-Logo.png" class="vb-logo" alt="VisionBank Logo">
        <h1>VisionBank Security Administration</h1>
        <p class="subtitle">Access Control • Monitoring • Business Hours</p>
    </header>

    <!-- LOGIN PANEL -->
    <div id="login-panel" class="glass login-card">
        <h2>Administrator Login</h2>

        <input id="admin-id" placeholder="Admin ID" autocomplete="off">
        <input id="admin-pin" placeholder="PIN" type="password" autocomplete="off">

        <button onclick="SECURITY.login()">Log In</button>

        <p id="login-error"></p>
    </div>

    <!-- DASHBOARD (hidden until authenticated) -->
    <div id="admin-dashboard" class="dashboard-container" style="display:none;">

        <h2 class="section-title">Security Controls</h2>

        <div class="grid-2">

            <!-- ALLOWLIST PANEL -->
            <div class="glass panel">
                <h3>Allowed IP Addresses</h3>
                <ul id="ip-list"></ul>

                <input id="new-ip" placeholder="Add IP or CIDR">
                <button onclick="SECURITY.addIP()">Add IP</button>
            </div>

            <!-- BUSINESS HOURS -->
            <div class="glass panel">
                <h3>Business Hours (CST)</h3>

                <label>Start Time</label>
                <input type="time" id="start-time">

                <label>End Time</label>
                <input type="time" id="end-time">

                <label>Active Days</label>
                <select id="active-days" multiple>
                    <option value="1">Mon</option>
                    <option value="2">Tue</option>
                    <option value="3">Wed</option>
                    <option value="4">Thu</option>
                    <option value="5">Fri</option>
                    <option value="6">Sat</option>
                </select>

                <button onclick="SECURITY.saveHours()">Save Hours</button>
            </div>

        </div>

        <!-- ADMIN MANAGEMENT -->
        <div class="glass panel">
            <h3>Administrators</h3>

            <ul id="admin-list"></ul>

            <input id="new-admin-id" placeholder="New Admin ID">
            <input id="new-admin-pin" placeholder="New PIN">

            <button onclick="SECURITY.addAdmin()">Add Admin</button>
        </div>

        <!-- AUDIT LOG -->
        <div class="glass panel">
            <h3>Audit Log</h3>

            <button onclick="SECURITY.downloadLog()">Download CSV</button>
            <ul id="audit-log"></ul>
        </div>

    </div>

    <!-- FOOTER -->
    <footer class="glass-footer">
        <div class="footer-right">
            <img src="assets/US-Signal-Logo.png" class="sec-footer-logo-small">
            <span>Created and maintained by Ahmed Adeyemi, US Signal</span>
        </div>
    </footer>

    <script src="security.js"></script>
    <script src="security-dashboard.js"></script>

</body>
</html>
