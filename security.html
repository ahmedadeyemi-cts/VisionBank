<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>VisionBank Security Console</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="security.css" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/VisionBank-Logo.png" />
</head>

<body>
    <!-- =========================== -->
    <!-- HEADER                      -->
    <!-- =========================== -->
    <header class="sec-header">
        <img src="assets/VisionBank-Logo.png" class="sec-logo" />
        <h1>VisionBank Security Console</h1>
        <div class="sec-subtitle">Access Control • IP Rules • Business Hours • Audit Logs</div>
    </header>

    <!-- =========================== -->
    <!-- MAIN LAYOUT WRAPPER         -->
    <!-- =========================== -->
    <main class="sec-container">

        <!-- ======================= -->
        <!-- LEFT SIDEBAR NAV       -->
        <!-- ======================= -->
        <nav class="sec-sidebar">
            <button class="nav-btn active" data-target="panel-ips">IP Allowlist</button>
            <button class="nav-btn" data-target="panel-hours">Business Hours</button>
            <button class="nav-btn" data-target="panel-logs">Security Logs</button>
        </nav>

        <!-- ======================= -->
        <!-- RIGHT CONTENT PANELS   -->
        <!-- ======================= -->
        <section class="sec-content">

            <!-- ----------------------------------- -->
            <!-- PANEL: IP RULES                     -->
            <!-- ----------------------------------- -->
            <div id="panel-ips" class="sec-panel active">
                <h2>Allowed IP Addresses / CIDR Blocks</h2>
                <p class="sec-desc">
                    These IPs are allowed to access the VisionBank dashboard during approved business hours.
                </p>

                <textarea id="ipRulesBox" class="sec-textarea" placeholder="One rule per line..."></textarea>

                <button id="saveIpRules" class="sec-btn save-btn">Save IP Rules</button>
                <div id="ipStatus" class="sec-status"></div>
            </div>

            <!-- ----------------------------------- -->
            <!-- PANEL: BUSINESS HOURS               -->
            <!-- ----------------------------------- -->
            <div id="panel-hours" class="sec-panel">
                <h2>Business Hours (CST)</h2>
                <p class="sec-desc">
                    The dashboard is only accessible during these hours.
                </p>

                <div class="hours-row">
                    <label>Start Time:</label>
                    <input type="time" id="hoursStart" />
                </div>

                <div class="hours-row">
                    <label>End Time:</label>
                    <input type="time" id="hoursEnd" />
                </div>

                <div class="hours-row">
                    <label>Active Days:</label>
                    <div class="day-box">
                        <label><input type="checkbox" class="hoursDay" value="0" /> Sun</label>
                        <label><input type="checkbox" class="hoursDay" value="1" /> Mon</label>
                        <label><input type="checkbox" class="hoursDay" value="2" /> Tue</label>
                        <label><input type="checkbox" class="hoursDay" value="3" /> Wed</label>
                        <label><input type="checkbox" class="hoursDay" value="4" /> Thu</label>
                        <label><input type="checkbox" class="hoursDay" value="5" /> Fri</label>
                        <label><input type="checkbox" class="hoursDay" value="6" /> Sat</label>
                    </div>
                </div>

                <button id="saveHours" class="sec-btn save-btn">Save Business Hours</button>
                <div id="hoursStatus" class="sec-status"></div>
            </div>

            <!-- ----------------------------------- -->
            <!-- PANEL: SECURITY LOGS                -->
            <!-- ----------------------------------- -->
            <div id="panel-logs" class="sec-panel">
                <h2>Security Audit Logs</h2>
                <p class="sec-desc">Most recent access evaluations and changes.</p>

                <button id="refreshLogs" class="sec-btn refresh-btn">Refresh Logs</button>

                <div id="logOutput" class="sec-logbox">
                    Loading logs…
                </div>
            </div>

        </section>
    </main>

    <!-- =========================== -->
    <!-- SCRIPT: Security Console   -->
    <!-- =========================== -->
    <script src="security.js"></script>

    <!-- Script to switch sidebar panels -->
    <script>
        document.querySelectorAll(".nav-btn").forEach(btn => {
            btn.addEventListener("click", () => {
                document.querySelectorAll(".nav-btn").forEach(b => b.classList.remove("active"));
                btn.classList.add("active");

                const target = btn.getAttribute("data-target");
                document.querySelectorAll(".sec-panel").forEach(p => p.classList.remove("active"));
                document.getElementById(target).classList.add("active");
            });
        });
    </script>

</body>
</html>
